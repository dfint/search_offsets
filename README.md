# Search patterns

[![Tests](https://github.com/dfint/search_offsets/actions/workflows/tests.yml/badge.svg)](https://github.com/dfint/search_offsets/actions/workflows/tests.yml)

1. Install python 3.10

2. [Install uv](https://docs.astral.sh/uv/getting-started/installation/)

3. Run search:

    ```shell
    uv run search path="C:/path/to/Dwarf Fortress/Dwarf Fortress.exe"
    ```

Alternatively, you can add a yaml config in the root of the project instead of using the CLI options:

`.config.yaml:`

```yaml
path: "C:/path/to/Dwarf Fortress/Dwarf Fortress.exe"
```

And then run the utility just with `uv run search`.

It is possible to specify a single path:

```yaml
path: ../game/df_53_02_win
```

or a list of path win `paths` key:

```yaml
paths:
  - ../game/df_53_02_win
  - ../game/df_53_02_linux
```

All directories matching specified pattern will be processed.

By default, version name is set to be autogenerated (in file `defaults.yaml`), and it will be used as part of output file name.
For steam version it will look like "52.02 steam linux64",
for classic and itch versions it will be "52.02 other linux64".
And output file name will be `offsets_52.02_steam_linux64.toml` and `offsets_52.02_other_linux64.toml` respectively.

This can be overrirden using `.config.yaml`:

- Name autogeneration can be swithched off using `autogenerate_version_name: false`
- A different name can be set explicitly: `version_name: some name`

If the version name is not generated and not provided explicitly, the output file won't be created.
